(function(e){function t(t){for(var i,s,o=t[0],c=t[1],u=t[2],l=0,p=[];l<o.length;l++)s=o[l],a[s]&&p.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},a={app:0},r=[];function s(e){return o.p+"js/"+({filestack:"filestack","pdfjs-dist":"pdfjs-dist",pdfjsWorker:"pdfjsWorker"}[e]||e)+"."+{filestack:"600f9c05","pdfjs-dist":"741e5d56",pdfjsWorker:"286105f3"}[e]+".js"}function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise(function(t,i){n=a[e]=[t,i]});t.push(n[2]=i);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=s(e),r=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+i+": "+r+")");s.type=i,s.request=r,n[1](s)}a[e]=void 0}};var u=setTimeout(function(){r({type:"timeout",target:c})},12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/pdf-select-area/",o.oe=function(e){throw console.error(e),e};var c=this["webpackJsonp"]=this["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"032b":function(e,t,n){"use strict";var i=n("3ed4"),a=n.n(i);a.a},"034f":function(e,t,n){"use strict";var i=n("64a9"),a=n.n(i);a.a},"144c":function(e,t){var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"}},[n("path",{attrs:{d:"M78.9 47.5c2-2 2-5.4 0-7.4L77.8 39c-2-2-5.4-2-7.4 0l-14 14V11.6c0-3.3-2.7-5.9-5.9-5.9h-.2c-3.3 0-5.9 2.7-5.9 5.9v41.2L30.6 39c-2-2-5.4-2-7.4 0l-1.1 1c-2 2-2 5.4 0 7.4l28.4 28.4 28.4-28.3zM82.2 94.7H18.8c-3 0-5.5-2.5-5.5-5.5s2.5-5.5 5.5-5.5h63.4c3 0 5.5 2.5 5.5 5.5s-2.5 5.5-5.5 5.5z"}})])},i=function(){return"/home/vanarok/Projects/vue-pdfjs-demo/src/assets/icon-download.svg"};e.exports={render:n,toString:i}},"2ab6":function(e,t,n){"use strict";var i=n("c464"),a=n.n(i);a.a},"2f02":function(e,t,n){"use strict";var i=n("7e37"),a=n.n(i);a.a},3337:function(e,t,n){"use strict";var i=n("f793"),a=n.n(i);a.a},"3ed4":function(e,t,n){},"54c5":function(e,t){var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"}},[n("path",{attrs:{d:"M93.2 84.8L70.6 62.3c4.3-6 6.8-13.3 6.8-21.2C77.4 21 61.2 4.8 41.1 4.8 21 4.8 4.8 21 4.8 41.1S21 77.4 41.1 77.4c7.8 0 15.1-2.5 21-6.7l22.6 22.6c2 2 5.4 2 7.4 0l1.1-1.1c2-2 2-5.3 0-7.4zM41.1 66.6c-14.1 0-25.5-11.4-25.5-25.5S27 15.6 41.1 15.6 66.6 27 66.6 41.1 55.2 66.6 41.1 66.6z"}}),n("path",{attrs:{d:"M29 36.5c-2.5 0-4.5 2-4.5 4.5s2 4.5 4.5 4.5h24.2c2.5 0 4.5-2 4.5-4.5s-2-4.5-4.5-4.5H29z"}})])},i=function(){return"/home/vanarok/Projects/vue-pdfjs-demo/src/assets/icon-zoom-out.svg"};e.exports={render:n,toString:i}},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i,a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("PDFViewer",e._b({on:{"document-errored":e.onDocumentErrored},scopedSlots:e._u([{key:"prepend",fn:function(){return[e.enableUploader?n("PDFUploader",{staticClass:"header-item",attrs:{slot:"header",documentError:e.documentError},on:{updated:e.urlUpdated},slot:"header"}):e._e()]},proxy:!0}])},"PDFViewer",{url:e.url},!1))],1)},s=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"pdf-uploader form",staticStyle:{display:"flex"}},[n("a",{staticClass:"icon",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.openPicker(t)}}},[n("IconDownload")],1),e.error?n("p",{staticClass:"error"},[e._v("\n    "+e._s(e.error)+"\n  ")]):e._e()])},c=[],u=n("768b"),l=n("795b"),d=n.n(l),p=n("144c"),h=n.n(p);function f(){return i?d.a.resolve(i):n.e("filestack").then(n.bind(null,"6f87")).then(function(e){var t=e.default;return t.init("AppWQXBCnTiupzFuQJ7Stz")})}var g={components:{IconDownload:h.a},props:{documentError:{type:String,default:""}},data:function(){return{url:void 0,urlError:void 0}},watch:{},computed:{error:function(){return this.documentError||this.urlError}},methods:{openPicker:function(){var e=this;f().then(function(t){t.pick({fromSources:["local_file_system","imagesearch","facebook","instagram","dropbox"],accept:[".pdf"],maxFiles:1,maxSize:1024e4}).then(function(t){return e.onFilestack(t)})})},onFilestack:function(e){if(e.filesUploaded.length>0){var t=Object(u["a"])(e.filesUploaded,1),n=t[0];this.url=n.url,this.$emit("updated",this.url)}},validateUrl:function(){var e=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/;e.exec(this.url)?(this.urlError=void 0,this.$emit("updated",this.url)):this.urlError="Please enter a valid url"}}},m=g,v=(n("2ab6"),n("2877")),b=Object(v["a"])(m,o,c,!1,null,"4388d983",null),P=b.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pdf-viewer"},[n("header",{staticClass:"pdf-viewer__header box-shadow"},[e._t("prepend"),n("div",{staticClass:"pdf-preview-toggle"},[n("a",{staticClass:"icon",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.togglePreview(t)}}},[n("PreviewIcon")],1)]),n("PDFZoom",{staticClass:"header-item",attrs:{scale:e.scale},on:{change:e.updateScale,fit:e.updateFit}}),n("PDFPaginator",{staticClass:"header-item",attrs:{pageCount:e.pageCount},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),e._t("header")],2),n("PDFData",{staticClass:"pdf-viewer__main",attrs:{url:e.url},on:{"page-count":e.updatePageCount,"page-focus":e.updateCurrentPage,"document-rendered":e.onDocumentRendered,"document-errored":e.onDocumentErrored},scopedSlots:e._u([{key:"preview",fn:function(t){var i=t.pages;return[n("PDFPreview",e._b({directives:[{name:"show",rawName:"v-show",value:e.isPreviewEnabled,expression:"isPreviewEnabled"}],staticClass:"pdf-viewer__preview"},"PDFPreview",{pages:i,scale:e.scale,currentPage:e.currentPage,pageCount:e.pageCount,isPreviewEnabled:e.isPreviewEnabled},!1))]}},{key:"document",fn:function(t){var i=t.pages;return[n("PDFDocument",e._b({staticClass:"pdf-viewer__document",class:{"preview-enabled":e.isPreviewEnabled},on:{"scale-change":e.updateScale}},"PDFDocument",{pages:i,scale:e.scale,optimalScale:e.optimalScale,fit:e.fit,currentPage:e.currentPage,pageCount:e.pageCount,isPreviewEnabled:e.isPreviewEnabled},!1))]}}])})],1)},y=[],x=n("c593"),_=n.n(x),S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ScrollingDocument",e._b({staticClass:"pdf-document",attrs:{"enable-page-jump":!0},on:{"page-jump":e.onPageJump,"pages-fetch":e.onPagesFetch,"pages-reset":e.fitWidth},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.page,a=t.isPageFocused,r=t.isElementFocused;return[n("PDFPage",e._b({on:{"page-rendered":e.onPageRendered,"page-errored":e.onPageErrored,"page-focus":e.onPageFocused}},"PDFPage",{scale:e.scale,optimalScale:e.optimalScale,page:i,isPageFocused:a,isElementFocused:r},!1))]}}])},"ScrollingDocument",{pages:e.pages,pageCount:e.pageCount,currentPage:e.currentPage},!1))},$=[],F=(n("c5f6"),window.devicePixelRatio||1),E=.98,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"scroll",rawName:"v-scroll.immediate",value:e.updateScrollBounds,expression:"updateScrollBounds",modifiers:{immediate:!0}}],staticClass:"scrolling-document"},[e._l(e.pages,function(t){return n("ScrollingPage",e._b({key:t.pageNumber,on:{"page-jump":e.onPageJump},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.isPageFocused,r=i.isElementFocused;return[n("div",{staticClass:"scrolling-page"},[e._t("default",null,null,{page:t,isPageFocused:a,isElementFocused:r})],2)]}}],!0)},"ScrollingPage",{page:t,clientHeight:e.clientHeight,scrollTop:e.scrollTop,focusedPage:e.focusedPage,enablePageJump:e.enablePageJump},!1))}),n("div",{directives:[{name:"visible",rawName:"v-visible",value:e.fetchPages,expression:"fetchPages"}],staticClass:"observer"})],2)},D=[],k=n("0f32"),j=n.n(k);function T(e,t){var n=t.value;t.modifiers.immediate&&n();var i=j()(n,300);e.addEventListener("scroll",i,!0)}var z={inserted:T},M=n("1b81"),O=n.n(M),H=(n("5abe"),n("34eb")),N=n.n(H),A=N()("app:directives/visible"),R=new O.a;function V(e,t,n,i){var a=new IntersectionObserver(function(t){var r=t[0];r.isIntersecting&&(i(),n.once&&B(a,e))});return t.context.$nextTick(function(){return a.observe(e)}),a}function B(e,t){A("Disconnecting observer",t),e&&e.disconnect()}function I(e,t,n){var i=t.value,a=t.modifiers;if(A("Binding element",e),"undefined"===typeof window.IntersectionObserver)A("IntersectionObserver API is not available in your browser.");else{var r=V(e,n,a,function(){A("Element is visible",e);var t=i;"function"===typeof t&&t()});R.set(e,{observer:r})}}function W(e,t,n){var i=t.value,a=t.oldValue;if(i!==a){var r=R.get(e),s=r.observer;B(s,e),I(e,{value:i},n)}}function J(e){if(R.has(e)){var t=R.get(e),n=t.observer;B(n,e),R.delete(e)}}var q,L,U={bind:I,update:W,unbind:J},X={name:"ScrollingPage",props:{page:{type:Object,required:!0},focusedPage:{type:Number,default:void 0},scrollTop:{type:Number,default:0},clientHeight:{type:Number,default:0},enablePageJump:{type:Boolean,default:!1}},data:function(){return{elementTop:0,elementHeight:0}},computed:{isPageFocused:function(){return this.page.pageNumber===this.focusedPage},isElementFocused:function(){var e=this.elementTop,t=this.bottom,n=this.elementHeight,i=this.scrollTop,a=this.clientHeight;if(n){var r=n/2,s=a/2,o=n>=s?s:r,c=i+o;return e<c&&t>=c}},bottom:function(){return this.elementTop+this.elementHeight},scrollBottom:function(){return this.scrollTop+this.clientHeight}},methods:{jumpToPage:function(){this.enablePageJump&&!this.isElementFocused&&this.isPageFocused&&this.$emit("page-jump",this.elementTop)},updateElementBounds:function(){var e=this.$el,t=e.offsetTop,n=e.offsetHeight;this.elementTop=t,this.elementHeight=n}},watch:{scrollTop:"updateElementBounds",clientHeight:"updateElementBounds",isPageFocused:"jumpToPage"},created:function(){this.$on("update-visibility",this.updateElementBounds)},mounted:function(){this.updateElementBounds()},render:function(){var e=this.isPageFocused,t=this.isElementFocused;return this.$scopedSlots.default({isPageFocused:e,isElementFocused:t})}},Y=X,Z=Object(v["a"])(Y,q,L,!1,null,null,null),Q=Z.exports,G={components:{ScrollingPage:Q},directives:{visible:U,scroll:z},props:{pages:{required:!0},enablePageJump:{type:Boolean,default:!1},currentPage:{type:Number,default:1},isParentVisible:{default:!0}},data:function(){return{focusedPage:void 0,scrollTop:0,clientHeight:0}},computed:{pagesLength:function(){return this.pages.length}},methods:{fetchPages:function(e){this.$emit("pages-fetch",e)},onPageJump:function(e){this.$emit("page-jump",e)},updateScrollBounds:function(){var e=this.$el,t=e.scrollTop,n=e.clientHeight;this.scrollTop=t,this.clientHeight=n}},watch:{isParentVisible:"updateScrollBounds",pagesLength:function(e,t){var n=this;0===t&&this.$emit("pages-reset"),this.$nextTick(function(){n.focusedPage=n.currentPage})},currentPage:function(e){e>this.pages.length?this.fetchPages(e):this.focusedPage=e}}},K=G,ee=Object(v["a"])(K,C,D,!1,null,null,null),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",e._b({staticStyle:{position:"relative"}},"div",e.canvasAttrs,!1),[n("canvas",e._b({ref:"selection",on:{mousedown:e.startPainting,mouseup:e.finishedPainting,mousemove:e.selectRegion}},"canvas",e.canvasAttrs,!1)),n("canvas",e._b({directives:[{name:"visible",rawName:"v-visible.once",value:e.drawPage,expression:"drawPage",modifiers:{once:!0}}],ref:"pdf"},"canvas",e.canvasAttrs,!1))]),n("div",{staticStyle:{position:"fixed",top:"0",right:"0",padding:"6rem 3rem 0 0"}},[e.selectedRegion.w>0?n("div",{staticStyle:{display:"flex",gap:"10px",width:"300px",background:"rgba(0, 0, 0, 0.05)",padding:"10px"}},[n("div",{staticStyle:{width:"100px",height:"100px",background:"lightgreen"}}),n("div",{staticStyle:{"font-size":"25px","margin-top":"-30px"}},[n("p",[e._v("X = "+e._s(e.selectedRegion.x))]),n("p",[e._v("Y = "+e._s(e.selectedRegion.y))]),n("p",[e._v("W = "+e._s(e.selectedRegion.w))]),n("p",[e._v("H = "+e._s(e.selectedRegion.h))])])]):e._e()])])},ie=[],ae=(n("6c7b"),N()("app:components/PDFPage")),re={name:"PDFPage",data:function(){return{canvas:null,ctx:null,painting:!1,startX:0,startY:0,selectedRegion:{x:null,y:null,w:null,h:null}}},props:{page:{type:Object,required:!0},scale:{type:Number,required:!0},optimalScale:{type:Number,required:!0},isPageFocused:{type:Boolean,default:!1},isElementFocused:{type:Boolean,default:!1}},directives:{visible:U},computed:{actualSizeViewport:function(){return this.viewport.clone({scale:this.scale})},canvasStyle:function(){var e=this.actualSizeViewport,t=e.width,n=e.height,i=[t,n].map(function(e){return Math.ceil(e/F)}),a=Object(u["a"])(i,2),r=a[0],s=a[1];return"width: ".concat(r,"px; height: ").concat(s,"px;")},canvasAttrs:function(){var e=this.viewport,t=e.width,n=e.height,i=[t,n].map(function(e){return Math.ceil(e)}),a=Object(u["a"])(i,2);t=a[0],n=a[1];var r=this.canvasStyle;return{width:t,height:n,style:r,class:"pdf-page box-shadow"}},pageNumber:function(){return this.page.pageNumber}},methods:{focusPage:function(){this.isPageFocused||this.$emit("page-focus",this.pageNumber)},drawPage:function(){var e=this;if(!this.renderTask){var t=this.viewport,n=this.$refs.pdf.getContext("2d"),i={canvasContext:n,viewport:t};this.renderTask=this.page.render(i),this.renderTask.then(function(){e.$emit("page-rendered",{page:e.page,text:"Rendered page ".concat(e.pageNumber)})}).catch(function(t){e.destroyRenderTask(),e.$emit("page-errored",{response:t,page:e.page,text:"Failed to render page ".concat(e.pageNumber)})})}},updateVisibility:function(){this.$parent.$emit("update-visibility")},destroyPage:function(e){e&&e._destroy(),this.destroyRenderTask()},destroyRenderTask:function(){this.renderTask&&(this.renderTask.cancel(),delete this.renderTask)},getMousePos:function(e,t){var n=e.getBoundingClientRect(),i=e.width/n.width,a=e.height/n.height;return[(t.clientX-n.left)*i,(t.clientY-n.top)*a]},getCanvasCoords:function(e,t,n){var i=e.getTransform(),a=i.invertSelf(),r=t*a.a+n*a.c+a.e,s=t*a.b+n*a.d+a.f;return[r,s]},selectRegion:function(e){if(this.painting){this.ctx.lineWidth=3;var t=this.getMousePos(this.canvas,e),n=Object(u["a"])(t,2),i=n[0],a=n[1],r=this.getCanvasCoords(this.ctx,i,a),s=Object(u["a"])(r,2),o=s[0],c=s[1];this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.beginPath(),this.ctx.rect(this.startX,this.startY,o-this.startX,c-this.startY),this.ctx.stroke(),this.selectedRegion.w=Math.abs(Math.round(o-this.startX)),this.selectedRegion.h=Math.abs(Math.round(c-this.startY)),this.selectedRegion.x=Math.round(this.startX),this.selectedRegion.y=Math.round(this.startY)}},startPainting:function(e){this.selectedRegion={x:null,y:null,w:null,h:null},this.painting=!0;var t=this.getMousePos(this.canvas,e),n=Object(u["a"])(t,2),i=n[0],a=n[1],r=this.getCanvasCoords(this.ctx,i,a),s=Object(u["a"])(r,2),o=s[0],c=s[1];this.startX=o,this.startY=c,this.selectRegion(e)},finishedPainting:function(){this.ctx.fillStyle="rgba(0, 255, 0, 0.1)",this.ctx.fill(),this.painting=!1,this.startX=0,this.startY=0,this.ctx.beginPath()}},watch:{scale:"updateVisibility",page:function(e,t){this.destroyPage(t)},isElementFocused:function(e){e&&this.focusPage()}},created:function(){this.viewport=this.page.getViewport(this.optimalScale)},mounted:function(){ae("Page ".concat(this.pageNumber," mounted")),this.canvas=this.$refs.selection,this.ctx=this.$refs.selection.getContext("2d"),this.$refs.selection.style.position="absolute",this.$refs.selection.style.top="0",this.$refs.selection.style.left="0",this.$refs.selection.width=this.$refs.pdf.width,this.$refs.selection.height=this.$refs.pdf.height},beforeDestroy:function(){this.destroyPage(this.page)}},se=re,oe=(n("3337"),Object(v["a"])(se,ne,ie,!1,null,null,null)),ce=oe.exports,ue={name:"PDFDocument",components:{ScrollingDocument:te,PDFPage:ce},props:{pages:{required:!0},pageCount:{type:Number,default:0},scale:{type:Number,default:1},optimalScale:{type:Number},fit:{type:String},currentPage:{type:Number,default:1},isPreviewEnabled:{default:!1}},computed:{defaultViewport:function(){if(!this.pages.length)return{width:0,height:0};var e=Object(u["a"])(this.pages,1),t=e[0];return t.getViewport(1)},isPortrait:function(){var e=this.defaultViewport,t=e.width,n=e.height;return t<=n}},methods:{pageWidthScale:function(){var e=this.defaultViewport,t=this.$el;return e.width?t.clientWidth*F*E/e.width:0},pageHeightScale:function(){var e=this.defaultViewport,t=this.$el;return e.height?t.clientHeight*F*E/e.height:0},fitWidth:function(){var e=this.pageWidthScale();this.updateScale(e,{isOptimal:!this.optimalScale})},fitHeight:function(){var e=this.isPortrait?this.pageHeightScale():this.pageWidthScale();this.updateScale(e)},fitAuto:function(){var e=Math.min(this.pageWidthScale(),this.pageHeightScale());this.updateScale(e)},updateScale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isOptimal,i=void 0!==n&&n;e&&this.$emit("scale-change",{scale:e,isOptimal:i})},onPageJump:function(e){this.$el.scrollTop=e},onPagesFetch:function(e){this.$parent.$emit("pages-fetch",e)},onPageFocused:function(e){this.$parent.$emit("page-focus",e)},onPageRendered:function(e){this.$parent.$emit("page-rendered",e)},onPageErrored:function(e){this.$parent.$emit("page-errored",e)}},watch:{fit:function(e){switch(e){case"width":this.fitWidth();break;case"auto":this.fitAuto();break;default:break}},pageCount:"fitWidth",isPreviewEnabled:"fitWidth"}},le=ue,de=(n("032b"),Object(v["a"])(le,S,$,!1,null,null,null)),pe=de.exports,he=n("75fc"),fe=n("5176"),ge=n.n(fe),me=(n("ac6a"),n("5df3"),n("5a3a")),ve=n.n(me),be=N()("app:components/PDFData");function Pe(e){return n.e("pdfjs-dist").then(n.t.bind(null,"fba4",7)).then(function(t){return t.getDocument(e)})}function we(e,t,n){var i=ve()(t,n+1).map(function(t){return e.getPage(t)});return d.a.all(i)}var ye=10;function xe(){return{pages:[],cursor:0}}var _e,Se,$e={name:"PDFData",props:{url:{type:String,required:!0}},data:function(){return ge()(xe(),{pdf:void 0})},watch:{url:{handler:function(e){var t=this;Pe(e).then(function(e){return t.pdf=e}).catch(function(e){t.$emit("document-errored",{text:"Failed to retrieve PDF",response:e}),be("Failed to retrieve PDF",e)})},immediate:!0},pdf:function(e,t){e&&(t&&ge()(this,xe()),this.$emit("page-count",this.pageCount),this.fetchPages())}},computed:{pageCount:function(){return this.pdf?this.pdf.numPages:0}},methods:{fetchPages:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.pdf&&!(this.pageCount>0&&this.pages.length===this.pageCount)){var n=this.pages.length;if(!(this.cursor>n)){var i=n+1,a=Math.min(Math.max(t,n+ye),this.pageCount);this.cursor=a,be("Fetching pages ".concat(i," to ").concat(a)),we(this.pdf,i,a).then(function(t){var i,a=0;return(i=e.pages).splice.apply(i,[n,a].concat(Object(he["a"])(t))),e.pages}).catch(function(t){e.$emit("document-errored",{text:"Failed to retrieve pages",response:t}),be("Failed to retrieve pages",t)})}}},onPageRendered:function(e){var t=e.text,n=e.page;be(t,n)},onPageErrored:function(e){var t=e.text,n=e.response,i=e.page;be("Error!",t,n,i)}},created:function(){this.$on("page-rendered",this.onPageRendered),this.$on("page-errored",this.onPageErrored),this.$on("pages-fetch",this.fetchPages)},render:function(e){return e("div",[this.$scopedSlots.preview({pages:this.pages}),this.$scopedSlots.document({pages:this.pages})])}},Fe=$e,Ee=Object(v["a"])(Fe,_e,Se,!1,null,null,null),Ce=Ee.exports,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pdf-paginator"},[e.pageCount?[n("input",{attrs:{min:"1",max:e.pageCount,type:"number"},domProps:{value:e.value},on:{input:e.input}}),e._v(" / "),n("span",[e._v(e._s(e.pageCount))])]:n("input",{attrs:{type:"number"}})],2)},ke=[],je=n("e814"),Te=n.n(je),ze={name:"PDFPaginator",props:{value:Number,pageCount:Number},methods:{input:function(e){this.$emit("input",Te()(e.target.value,10))}},watch:{pageCount:function(){this.$emit("input",1)}}},Me=ze,Oe=(n("ac8d"),Object(v["a"])(Me,De,ke,!1,null,null,null)),He=Oe.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ScrollingDocument",e._b({staticClass:"pdf-preview",attrs:{"is-parent-visible":e.isPreviewEnabled},on:{"pages-fetch":e.onPagesFetch},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.page,a=t.isPageFocused;return[n("PDFThumbnail",e._b({on:{"thumbnail-rendered":e.onThumbnailRendered,"thumbnail-errored":e.onThumbnailErrored,"page-focus":e.onPageFocused}},"PDFThumbnail",{scale:e.scale,page:i,isPageFocused:a},!1))]}}])},"ScrollingDocument",{pages:e.pages,pageCount:e.pageCount,currentPage:e.currentPage},!1))},Ae=[],Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"visible",rawName:"v-visible.once",value:e.drawPage,expression:"drawPage",modifiers:{once:!0}}],staticClass:"pdf-thumbnail",class:{focused:e.isPageFocused},on:{click:e.focusPage}},[e.src?n("img",{staticClass:"box-shadow",attrs:{src:e.src}}):n("div",{staticClass:"placeholder box-shadow"},[n("div",{staticClass:"content"},[e._v("\n      Loading\n    ")])]),n("span",{staticClass:"page-number"},[e._v(e._s(e.pageNumber))])])},Ve=[],Be=N()("app:components/PDFThumbnail"),Ie={name:"PDFThumbnail",props:{page:{type:Object,required:!0},scale:{required:!0},isPageFocused:{type:Boolean,default:!1}},directives:{visible:U},data:function(){return{src:void 0}},computed:{viewport:function(){return this.page.getViewport(1)},pageNumber:function(){return this.page.pageNumber}},methods:{focusPage:function(){this.$emit("page-focus",this.pageNumber)},drawPage:function(){var e=this;if(!this.renderTask){var t=this.viewport,n=document.createElement("canvas"),i=n.getContext("2d"),a={canvasContext:i,viewport:t};n.height=t.height,n.width=t.width,this.renderTask=this.page.render(a),this.renderTask.then(function(){e.src=n.toDataURL(),n.width=0,n.height=0}).then(function(){e.$emit("thumbnail-rendered",{page:e.page,text:"Rendered thumbnail ".concat(e.pageNumber)})}).catch(function(t){e.destroyRenderTask(),e.$emit("thumbnail-errored",{response:t,page:e.page,text:"Failed to render thumbnail ".concat(e.pageNumber)})})}},destroyPage:function(e,t){t&&t._destroy(),this.destroyRenderTask()},destroyRenderTask:function(){this.renderTask&&(this.renderTask.cancel(),delete this.renderTask)},updateVisibility:function(){this.$parent.$emit("update-visibility")}},watch:{page:"destroyPage",src:"updateVisibility",scale:"updateVisibility"},mounted:function(){Be("Page ".concat(this.pageNumber," mounted"))},beforeDestroy:function(){this.destroyPage(void 0,this.page)}},We=Ie,Je=(n("8996"),Object(v["a"])(We,Re,Ve,!1,null,"bb1e52da",null)),qe=Je.exports,Le={name:"PDFPreview",components:{ScrollingDocument:te,PDFThumbnail:qe},props:{pages:{required:!0},pageCount:{type:Number,default:0},scale:{type:Number,default:1},currentPage:{type:Number,default:1},isPreviewEnabled:{default:!1}},methods:{onPagesFetch:function(e){this.$parent.$emit("pages-fetch",e)},onPageFocused:function(e){this.$parent.$emit("page-focus",e)},onThumbnailRendered:function(e){this.$el.dispatchEvent(new Event("scroll")),this.$parent.$emit("thumbnail-rendered",e)},onThumbnailErrored:function(e){this.$parent.$emit("thumbnail-errored",e)}}},Ue=Le,Xe=(n("5cc6"),Object(v["a"])(Ue,Ne,Ae,!1,null,"38be731e",null)),Ye=Xe.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pdf-zoom"},[n("a",{staticClass:"icon",attrs:{disabled:e.isDisabled},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.zoomIn(t)}}},[n("ZoomInIcon")],1),n("a",{staticClass:"icon",attrs:{disabled:e.isDisabled},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.zoomOut(t)}}},[n("ZoomOutIcon")],1),n("a",{staticClass:"icon",attrs:{disabled:e.isDisabled},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.fitWidth(t)}}},[n("ExpandIcon")],1),n("a",{staticClass:"icon",attrs:{disabled:e.isDisabled},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.fitAuto(t)}}},[n("ShrinkIcon")],1)])},Qe=[],Ge=n("bae7"),Ke=n.n(Ge),et=n("54c5"),tt=n.n(et),nt=n("efa8"),it=n.n(nt),at=n("c568"),rt=n.n(at),st={name:"PDFZoom",components:{ZoomInIcon:Ke.a,ZoomOutIcon:tt.a,ExpandIcon:it.a,ShrinkIcon:rt.a},props:{scale:{type:Number},increment:{type:Number,default:.25}},computed:{isDisabled:function(){return!this.scale}},methods:{zoomIn:function(){this.updateScale(this.scale+this.increment)},zoomOut:function(){this.scale<=this.increment||this.updateScale(this.scale-this.increment)},updateScale:function(e){this.$emit("change",{scale:e})},fitWidth:function(){this.$emit("fit","width")},fitAuto:function(){this.$emit("fit","auto")}}},ot=st,ct=(n("2f02"),Object(v["a"])(ot,Ze,Qe,!1,null,null,null)),ut=ct.exports;function lt(e,t){var n=Math.pow(10,t||0);return Math.floor(e*n)/n}var dt={name:"PDFViewer",components:{PDFDocument:pe,PDFData:Ce,PDFPaginator:He,PDFPreview:Ye,PDFZoom:ut,PreviewIcon:_.a},props:{url:String},data:function(){return{scale:void 0,optimalScale:void 0,fit:void 0,currentPage:1,pageCount:void 0,isPreviewEnabled:!1}},methods:{onDocumentRendered:function(){this.$emit("document-errored",this.url)},onDocumentErrored:function(e){this.$emit("document-errored",e)},updateScale:function(e){var t=e.scale,n=e.isOptimal,i=void 0!==n&&n,a=lt(t,2);i&&(this.optimalScale=a),this.scale=a},updateFit:function(e){this.fit=e},updatePageCount:function(e){this.pageCount=e},updateCurrentPage:function(e){this.currentPage=e},togglePreview:function(){this.isPreviewEnabled=!this.isPreviewEnabled}},watch:{url:function(){this.currentPage=void 0}},mounted:function(){document.body.classList.add("overflow-hidden")}},pt=dt,ht=(n("5982"),Object(v["a"])(pt,w,y,!1,null,"57e52fe9",null)),ft=ht.exports,gt={name:"app",components:{PDFUploader:P,PDFViewer:ft},data:function(){return{url:"/pdf-select-area/default.pdf",documentError:void 0,enableUploader:!0}},methods:{urlUpdated:function(e){this.documentError=void 0,this.url=e},onDocumentErrored:function(e){this.documentError=e.text}}},mt=gt,vt=(n("034f"),Object(v["a"])(mt,r,s,!1,null,null,null)),bt=vt.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(bt)}}).$mount("#app")},5982:function(e,t,n){"use strict";var i=n("9782"),a=n.n(i);a.a},"5cc6":function(e,t,n){"use strict";var i=n("ca21"),a=n.n(i);a.a},"64a9":function(e,t,n){},"7e37":function(e,t,n){},8996:function(e,t,n){"use strict";var i=n("f9dd"),a=n.n(i);a.a},9782:function(e,t,n){},ac8d:function(e,t,n){"use strict";var i=n("daa6"),a=n.n(i);a.a},bae7:function(e,t){var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"}},[n("path",{attrs:{d:"M93.2 84.8L70.6 62.3c4.3-6 6.8-13.3 6.8-21.2C77.4 21 61.2 4.8 41.1 4.8 21 4.8 4.8 21 4.8 41.1S21 77.4 41.1 77.4c7.8 0 15.1-2.5 21-6.7l22.6 22.6c2 2 5.4 2 7.4 0l1.1-1.1c2-2 2-5.3 0-7.4zM41.1 66.6c-14.1 0-25.5-11.4-25.5-25.5S27 15.6 41.1 15.6 66.6 27 66.6 41.1 55.2 66.6 41.1 66.6z"}}),n("path",{attrs:{d:"M53.1 36.5h-7.6v-7.6c0-2.5-2-4.5-4.5-4.5s-4.5 2-4.5 4.5v7.6H29c-2.5 0-4.5 2-4.5 4.5s2 4.5 4.5 4.5h7.6v7.6c0 2.5 2 4.5 4.5 4.5s4.5-2 4.5-4.5v-7.6h7.6c2.5 0 4.5-2 4.5-4.5s-2.1-4.5-4.6-4.5z"}})])},i=function(){return"/home/vanarok/Projects/vue-pdfjs-demo/src/assets/icon-zoom-in.svg"};e.exports={render:n,toString:i}},c464:function(e,t,n){},c568:function(e,t){var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[n("path",{attrs:{d:"M15 7H9V1h2v4h4zm-8 8H5v-4H1V9h6zm3-8a.999.999 0 0 1-.707-1.707l5-5a.999.999 0 1 1 1.414 1.414l-5 5A.997.997 0 0 1 10 7zm-9 9a.999.999 0 0 1-.707-1.707l5-5a.999.999 0 1 1 1.414 1.414l-5 5A.997.997 0 0 1 1 16z"}})])},i=function(){return"/home/vanarok/Projects/vue-pdfjs-demo/src/assets/icon-shrink.svg"};e.exports={render:n,toString:i}},c593:function(e,t){var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"}},[n("path",{attrs:{d:"M31 14H13a1 1 0 0 1 0-2h18a1 1 0 1 1 0 2zM31 17H13a1 1 0 0 1 0-2h18a1 1 0 1 1 0 2zM26 20H13a1 1 0 1 1 0-2h13a1 1 0 1 1 0 2zM31 25H13a1 1 0 1 1 0-2h18a1 1 0 1 1 0 2zM31 28H13a1 1 0 1 1 0-2h18a1 1 0 1 1 0 2zM17 31h-4a1 1 0 1 1 0-2h4a1 1 0 1 1 0 2zM31 3H13a1 1 0 0 1 0-2h18a1 1 0 1 1 0 2zM31 6H13a1 1 0 0 1 0-2h18a1 1 0 1 1 0 2zM22 9h-9a1 1 0 0 1 0-2h9a1 1 0 1 1 0 2zM7.504 10H2.496A2.5 2.5 0 0 1 0 7.504V2.496A2.5 2.5 0 0 1 2.496 0h5.008A2.5 2.5 0 0 1 10 2.496v5.008A2.5 2.5 0 0 1 7.504 10zM2.496 2A.497.497 0 0 0 2 2.496v5.008c0 .273.223.496.496.496h5.008A.497.497 0 0 0 8 7.504V2.496A.497.497 0 0 0 7.504 2H2.496zM7.504 21H2.496A2.5 2.5 0 0 1 0 18.504v-5.008A2.5 2.5 0 0 1 2.496 11h5.008A2.5 2.5 0 0 1 10 13.496v5.008A2.5 2.5 0 0 1 7.504 21zm-5.008-8a.497.497 0 0 0-.496.496v5.008c0 .273.223.496.496.496h5.008A.497.497 0 0 0 8 18.504v-5.008A.497.497 0 0 0 7.504 13H2.496zM7.504 32H2.496A2.5 2.5 0 0 1 0 29.504v-5.008A2.5 2.5 0 0 1 2.496 22h5.008A2.5 2.5 0 0 1 10 24.496v5.008A2.5 2.5 0 0 1 7.504 32zm-5.008-8a.497.497 0 0 0-.496.496v5.008c0 .273.223.496.496.496h5.008A.497.497 0 0 0 8 29.504v-5.008A.497.497 0 0 0 7.504 24H2.496z"}})])},i=function(){return"/home/vanarok/Projects/vue-pdfjs-demo/src/assets/icon-preview.svg"};e.exports={render:n,toString:i}},ca21:function(e,t,n){},daa6:function(e,t,n){},efa8:function(e,t){var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"}},[n("path",{attrs:{d:"M6 16H0v-6h2v4h4zM16 6h-2V2h-4V0h6zM1 16a.999.999 0 0 1-.707-1.707l5-5a.999.999 0 1 1 1.414 1.414l-5 5A.997.997 0 0 1 1 16zm9-9a.999.999 0 0 1-.707-1.707l5-5a.999.999 0 1 1 1.414 1.414l-5 5A.997.997 0 0 1 10 7z"}})])},i=function(){return"/home/vanarok/Projects/vue-pdfjs-demo/src/assets/icon-expand.svg"};e.exports={render:n,toString:i}},f793:function(e,t,n){},f9dd:function(e,t,n){}});
//# sourceMappingURL=app.c4f3d7d1.js.map